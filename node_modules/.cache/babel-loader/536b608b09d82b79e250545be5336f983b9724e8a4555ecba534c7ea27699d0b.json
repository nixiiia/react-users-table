{"ast":null,"code":"import React from'react';import styles from'./Table.module.scss';import{TableRow}from'../TableRow';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const Table=_ref=>{let{users,handleSort,sortConfig,onClickUser}=_ref;const tableRef=React.useRef();const handleMouseDown=(event,colIndex)=>{const startX=event.clientX;const startWidth=tableRef.current.querySelector(`th:nth-child(${colIndex+1})`).offsetWidth;const handleMouseMove=moveEvent=>{const newWidth=startWidth+moveEvent.clientX-startX;tableRef.current.querySelectorAll(`th:nth-child(${colIndex+1}), td:nth-child(${colIndex+1})`).forEach(el=>{el.style.width=`${newWidth}px`;});};const handleMouseUp=()=>{document.removeEventListener('mousemove',handleMouseMove);document.removeEventListener('mouseup',handleMouseUp);};document.addEventListener('mousemove',handleMouseMove);document.addEventListener('mouseup',handleMouseUp);};return/*#__PURE__*/_jsxs(\"table\",{className:styles.table,ref:tableRef,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:styles.tr,children:[/*#__PURE__*/_jsxs(\"th\",{className:styles.th,onClick:()=>handleSort('firstName'),children:[\"\\u0424\\u0418\\u041E\",sortConfig.key==='firstName'&&(sortConfig.direction==='ascending'?' ↑':sortConfig.direction==='descending'?' ↓':' ⇅'),/*#__PURE__*/_jsx(\"div\",{className:styles.resizer,onMouseDown:event=>handleMouseDown(event,0)})]}),/*#__PURE__*/_jsxs(\"th\",{className:styles.th,onClick:()=>handleSort('age'),children:[\"\\u0412\\u043E\\u0437\\u0440\\u0430\\u0441\\u0442\",sortConfig.key==='age'&&(sortConfig.direction==='ascending'?' ↑':sortConfig.direction==='descending'?' ↓':' ⇅'),/*#__PURE__*/_jsx(\"div\",{className:styles.resizer,onMouseDown:event=>handleMouseDown(event,1)})]}),/*#__PURE__*/_jsxs(\"th\",{className:styles.th,onClick:()=>handleSort('gender'),children:[\"\\u041F\\u043E\\u043B\",sortConfig.key==='gender'&&(sortConfig.direction==='ascending'?' ↑':sortConfig.direction==='descending'?' ↓':' ⇅'),/*#__PURE__*/_jsx(\"div\",{className:styles.resizer,onMouseDown:event=>handleMouseDown(event,2)})]}),/*#__PURE__*/_jsxs(\"th\",{className:styles.th,children:[\"\\u041D\\u043E\\u043C\\u0435\\u0440 \\u0442\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D\\u0430\",/*#__PURE__*/_jsx(\"div\",{className:styles.resizer,onMouseDown:event=>handleMouseDown(event,3)})]}),/*#__PURE__*/_jsxs(\"th\",{className:styles.th,onClick:()=>handleSort('address.address'),children:[\"\\u0410\\u0434\\u0440\\u0435\\u0441\",sortConfig.key==='address.address'&&(sortConfig.direction==='ascending'?' ↑':sortConfig.direction==='descending'?' ↓':' ⇅'),/*#__PURE__*/_jsx(\"div\",{className:styles.resizer,onMouseDown:event=>handleMouseDown(event,4)})]})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:users.map(user=>/*#__PURE__*/_jsx(TableRow,{user:user,onClick:()=>onClickUser(user)},user.id))})]});};","map":{"version":3,"names":["React","styles","TableRow","jsx","_jsx","jsxs","_jsxs","Table","_ref","users","handleSort","sortConfig","onClickUser","tableRef","useRef","handleMouseDown","event","colIndex","startX","clientX","startWidth","current","querySelector","offsetWidth","handleMouseMove","moveEvent","newWidth","querySelectorAll","forEach","el","style","width","handleMouseUp","document","removeEventListener","addEventListener","className","table","ref","children","tr","th","onClick","key","direction","resizer","onMouseDown","map","user","id"],"sources":["C:/Users/Марк/Documents/GitHub/react-users-table/src/components/Table/index.jsx"],"sourcesContent":["import React from 'react';\r\n\r\nimport styles from './Table.module.scss';\r\n\r\nimport { TableRow } from '../TableRow';\r\n\r\nexport const Table = ({ users, handleSort, sortConfig, onClickUser }) => {\r\n  const tableRef = React.useRef();\r\n\r\n  const handleMouseDown = (event, colIndex) => {\r\n    const startX = event.clientX;\r\n    const startWidth = tableRef.current.querySelector(`th:nth-child(${colIndex + 1})`).offsetWidth;\r\n\r\n    const handleMouseMove = (moveEvent) => {\r\n      const newWidth = startWidth + moveEvent.clientX - startX;\r\n      tableRef.current\r\n        .querySelectorAll(`th:nth-child(${colIndex + 1}), td:nth-child(${colIndex + 1})`)\r\n        .forEach((el) => {\r\n          el.style.width = `${newWidth}px`;\r\n        });\r\n    };\r\n\r\n    const handleMouseUp = () => {\r\n      document.removeEventListener('mousemove', handleMouseMove);\r\n      document.removeEventListener('mouseup', handleMouseUp);\r\n    };\r\n\r\n    document.addEventListener('mousemove', handleMouseMove);\r\n    document.addEventListener('mouseup', handleMouseUp);\r\n  };\r\n\r\n\r\n  return (\r\n    <table className={styles.table} ref={tableRef}>\r\n      <thead>\r\n        <tr className={styles.tr}>\r\n          <th className={styles.th} onClick={() => handleSort('firstName')}>\r\n            ФИО\r\n            {sortConfig.key === 'firstName' &&\r\n              (sortConfig.direction === 'ascending'\r\n                ? ' ↑'\r\n                : sortConfig.direction === 'descending'\r\n                ? ' ↓'\r\n                : ' ⇅')}\r\n            <div\r\n              className={styles.resizer}\r\n              onMouseDown={(event) => handleMouseDown(event, 0)}></div>\r\n          </th>\r\n          <th className={styles.th} onClick={() => handleSort('age')}>\r\n            Возраст\r\n            {sortConfig.key === 'age' &&\r\n              (sortConfig.direction === 'ascending'\r\n                ? ' ↑'\r\n                : sortConfig.direction === 'descending'\r\n                ? ' ↓'\r\n                : ' ⇅')}\r\n            <div\r\n              className={styles.resizer}\r\n              onMouseDown={(event) => handleMouseDown(event, 1)}></div>\r\n          </th>\r\n          <th className={styles.th} onClick={() => handleSort('gender')}>\r\n            Пол\r\n            {sortConfig.key === 'gender' &&\r\n              (sortConfig.direction === 'ascending'\r\n                ? ' ↑'\r\n                : sortConfig.direction === 'descending'\r\n                ? ' ↓'\r\n                : ' ⇅')}\r\n            <div\r\n              className={styles.resizer}\r\n              onMouseDown={(event) => handleMouseDown(event, 2)}></div>\r\n          </th>\r\n          <th className={styles.th}>\r\n            Номер телефона\r\n            <div\r\n              className={styles.resizer}\r\n              onMouseDown={(event) => handleMouseDown(event, 3)}></div>\r\n          </th>\r\n          <th className={styles.th} onClick={() => handleSort('address.address')}>\r\n            Адрес\r\n            {sortConfig.key === 'address.address' &&\r\n              (sortConfig.direction === 'ascending'\r\n                ? ' ↑'\r\n                : sortConfig.direction === 'descending'\r\n                ? ' ↓'\r\n                : ' ⇅')}\r\n            <div\r\n              className={styles.resizer}\r\n              onMouseDown={(event) => handleMouseDown(event, 4)}></div>\r\n          </th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {users.map((user) => (\r\n          <TableRow key={user.id} user={user} onClick={() => onClickUser(user)} />\r\n        ))}\r\n      </tbody>\r\n    </table>\r\n  );\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}